<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Compress PDF | akashworldwide.docs</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">

<!-- PDF-LIB (STABLE CDN) -->
<script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

<style>
:root{
  --bg:#05070d;
  --bg2:#0b1220;
  --card:#0e1526;
  --neon:#00f5ff;
  --text:#e5e7eb;
  --muted:#9ca3af;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Orbitron',sans-serif}
body{
  background:radial-gradient(circle at top,var(--bg2),var(--bg));
  color:var(--text);
}

/* HEADER */
header{
  text-align:center;
  padding:20px;
  border-bottom:2px solid rgba(0,245,255,.6);
}
header h1{
  color:var(--neon);
  letter-spacing:2px;
  text-shadow:0 0 12px rgba(0,245,255,.7);
}

/* TOOL BOX */
.box{
  max-width:520px;
  margin:50px auto;
  background:var(--card);
  padding:30px;
  border:1px solid rgba(0,245,255,.3);
}
h2{text-align:center;color:var(--neon);margin-bottom:12px}
p{text-align:center;font-size:.75rem;color:var(--muted);margin-bottom:20px}

input{
  width:100%;
  padding:12px;
  background:transparent;
  border:1px dashed var(--neon);
  color:#fff;
}

button{
  width:100%;
  margin-top:16px;
  padding:12px;
  background:transparent;
  border:1px solid var(--neon);
  color:#fff;
  cursor:pointer;
}
button:hover{background:var(--neon);color:#000}

.status{
  margin-top:20px;
  font-size:.75rem;
  text-align:center;
  color:var(--muted);
}

/* FOOTER */
footer{
  text-align:center;
  margin-top:50px;
  padding:20px;
  font-size:.65rem;
  color:var(--muted);
  border-top:1px solid rgba(139,92,246,.3);
}
footer span{color:var(--neon)}
</style>
</head>
<body>

<header>
  <h1>akashworldwide.docs</h1>
</header>

<div class="box">
  <h2>Compress PDF</h2>
  <p>File stays on your device. No upload. No tracking.</p>

  <input type="file" id="pdfFile" accept="application/pdf">
  <button id="compressBtn">COMPRESS & DOWNLOAD</button>

  <div class="status" id="statusText">
    Select a PDF file to start
  </div>
</div>

<footer>
  Developed by <span>akashworldwide</span><br>
  Powered by GitHub
</footer>

<script>
const btn = document.getElementById("compressBtn");
const status = document.getElementById("statusText");

btn.addEventListener("click", async () => {
  try {
    const input = document.getElementById("pdfFile");

    if (!input.files.length) {
      status.textContent = "❌ Please select a PDF file first";
      return;
    }

    const file = input.files[0];
    const originalSize = (file.size / 1024 / 1024).toFixed(2);

    status.textContent = "⏳ Compressing PDF… please wait";

    const buffer = await file.arrayBuffer();
    const pdfDoc = await PDFLib.PDFDocument.load(buffer);

    const compressedBytes = await pdfDoc.save({
      useObjectStreams: true
    });

    const blob = new Blob([compressedBytes], {
      type: "application/pdf"
    });

    const newSize = (blob.size / 1024 / 1024).toFixed(2);

    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = file.name.replace(".pdf", "-compressed.pdf");
    document.body.appendChild(a);
    a.click();
    a.remove();

    status.innerHTML = `
      ✅ Download started<br><br>
      Original: <b>${originalSize} MB</b><br>
      Compressed: <b>${newSize} MB</b>
    `;
  } catch (err) {
    console.error(err);
    status.textContent = "❌ Failed to compress PDF (unsupported file)";
  }
});
</script>

</body>
</html>
